<template>
    <style>
        p{
            background-color: azure;
            font-family: trebuchet ms, tahoma, verdana, arial, sans-serif;
            padding: 10px;
        }
    </style>
    <p></p>
</template>
<script>
    var prototipo = Object.create(HTMLElement.prototype);

    //Accedo al template
    var templateContent = document._currentScript.ownerDocument.querySelector('template').content;

    prototipo.createdCallback = function() {

        // guardo el contenido del elemento y luego lo borro
        var elementContent = this.innerHTML;
        this.innerHTML = "";

        // clono el template
        var clone = document.importNode(templateContent, true);

        // accedo al p치rrago de ese clon del template
        var parrafo = clone.querySelector("p");

        // cambio el contenido de ese p치rrafo con el contenido del elemento
        parrafo.innerHTML = elementContent;

        // si tiene el atributo color, lo coloco como estilo del p치rrafo
        if(this.hasAttribute("color")){
            var color = this.getAttribute('color');
            parrafo.style.color = color;
        }

        // A침ado el clon del template como shadow dom
        this.createShadowRoot().appendChild(clone);

    };

    //Registro el componente "feedback-message"
    document.registerElement('feedback-message', {
        prototype: prototipo
    });
</script>
